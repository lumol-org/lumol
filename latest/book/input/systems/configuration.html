<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Setting the initial configuration &#8212; Lumol 0.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/lumol.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Interactions input" href="../interactions/index.html" />
    <link rel="prev" title="[[systems]] section" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          Lumol</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Navigation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">Lumol concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Input file reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">Modifying lumol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: [[systems]] section"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; [[systems]] section</span>
    </a>
  </li>
  <li>
    <a href="../interactions/index.html" title="Next Chapter: Interactions input"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Interactions input &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">Lumol concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Input file reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../input.html"><code class="docutils literal notranslate"><span class="pre">[input]</span></code> section</a></li>
<li class="toctree-l2"><a class="reference internal" href="../log.html"><code class="docutils literal notranslate"><span class="pre">[log]</span></code> section</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html"><code class="docutils literal notranslate"><span class="pre">[[systems]]</span></code> section</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Setting the initial configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initializing-velocities">Initializing velocities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-the-simulation-cell">Setting the simulation cell</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interactions/index.html">Interactions input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulations/index.html"><code class="docutils literal notranslate"><span class="pre">[[simulations]]</span></code> section</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced/index.html">Modifying lumol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="section" id="setting-the-initial-configuration">
<h1>Setting the initial configuration<a class="headerlink" href="#setting-the-initial-configuration" title="Permalink to this headline">¶</a></h1>
<p>A convenient way to get initial atom positions is by reading them from a
file using the <code class="docutils literal notranslate"><span class="pre">file</span></code> key:</p>
<div class="code highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[[systems]]</span>
<span class="n">file</span> <span class="o">=</span> <span class="s">&quot;data/water.pdb&quot;</span>
</pre></div>
</div>
<p>Lumol will read the file to build the system accordingly. If the file is a
trajectory containing multiple steps, only the first frame is used. Under the
hood, we utilize <a class="reference external" href="http://chemfiles.org/">chemfiles</a> to parse the data and thus we can read in plenty
different file formats. All possible formats are listed in the <a class="reference external" href="http://chemfiles.org/">chemfiles</a>
documentation.</p>
<p>From the file, we will read in the unit cell, the atomic positions, the atomic
masses, and use the atomic types as particles names. We will also read the list
of bonds from the topology.</p>
</div>
<div class="section" id="initializing-velocities">
<h1>Initializing velocities<a class="headerlink" href="#initializing-velocities" title="Permalink to this headline">¶</a></h1>
<p>For molecular dynamics (MD) simulations you need initial positions and initial
velocities of all atoms in your system. If no velocities are present within the
read in configuration you can use the <code class="docutils literal notranslate"><span class="pre">velocities</span></code> key to initialize the
velocities in the following way:</p>
<div class="code highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[[systems]]</span>
<span class="n">file</span> <span class="o">=</span> <span class="s">&quot;data/water.xyz&quot;</span>
<span class="n">topology</span> <span class="o">=</span> <span class="s">&quot;topology.pdb&quot;</span>
<span class="n">velocities</span> <span class="o">=</span> <span class="p">{</span><span class="n">init</span> <span class="o">=</span> <span class="s">&quot;300 K&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">init</span></code> key will take the temperature as <em>string</em>. The velocities
will be initialized from a Boltzmann distribution at the given temperature.
Monte Carlo simulations will not make any use of velocities since transition
probabilities (i.e. how the system evolves) are based on the positions (and the
underlying interactions) only.</p>
</div>
<div class="section" id="setting-the-simulation-cell">
<h1>Setting the simulation cell<a class="headerlink" href="#setting-the-simulation-cell" title="Permalink to this headline">¶</a></h1>
<p>To set up the (initial) simulation cell you can use the <cite>cell</cite> key. This key is
only needed if the configuration file does not contain this information (for
example XYZ file), or if you want to override the cell from the file.</p>
<p>We offer three different ways to set the cell:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">&lt;length&gt;</span></code> creates a cubic unit cell with the given side length.
<code class="docutils literal notranslate"><span class="pre">&lt;length&gt;</span></code> should be a numeric value (no quotation marks) in Angstrom.</li>
<li><code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">[]</span></code> creates an infinite unit cell, without boundaries. This can be
used when periodic boundary conditions are undesirable, for example to
simulate aggregates in the void;</li>
<li><code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">[&lt;a&gt;,</span> <span class="pre">&lt;b&gt;,</span> <span class="pre">&lt;c&gt;]</span></code> creates an orthorhombic unit cell.
You should provide the lengths of the cell, <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;b&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;c&gt;</span></code> as
numeric values in Angstrom.</li>
<li><code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">[&lt;a&gt;,</span> <span class="pre">&lt;b&gt;,</span> <span class="pre">&lt;c&gt;,</span> <span class="pre">&lt;alpha&gt;,</span> <span class="pre">&lt;beta&gt;,</span> <span class="pre">&lt;gamma&gt;]</span></code> creates a triclinic unit
cell with the given side lengths and angles. <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;b&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;c&gt;</span></code>
should be numeric values in Angstrom and <code class="docutils literal notranslate"><span class="pre">&lt;alpha&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;beta&gt;</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&lt;gamma&gt;</span></code> numeric values in degree.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In an TOML array, all values have to have the same type.  <code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">[24,</span> <span class="pre">24,</span>
<span class="pre">76]</span></code> will work since we use all integer values, while <code class="docutils literal notranslate"><span class="pre">cell</span> <span class="pre">=</span> <span class="pre">[24.,</span> <span class="pre">24.,</span>
<span class="pre">76]</span></code> will throw an error.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p class="pull-left">
        &copy; Lumol contributors
    </p>
    <p class="text-center">
        Available on <a href="https://github.com/lumol-org/lumol">Github</a>
    </p>
  </div>
</footer>

  </body>
</html>